<%= provide(:title, 'Lista de apuestas') %>
<%= provide(:header, 'Lista de apuestas') %>

<div class="meesbet-search">
  <%= form_tag bet_list_search_path, method: 'get' do %>

    <div class="form-group">
      <%= label_tag 'Usuario' %>
      <%= text_field_tag :user, @user %>
    </div>

    <div class="form-group">
      <%= label_tag 'Apuesta challenger (min - max)' %>
      <%= number_field_tag :min_challenger_amount, @min_challenger_amount %>
      <%= number_field_tag :max_challenger_amount, @max_challenger_amount %>
    </div>

    <div class="form-group">
      <%= label_tag 'Apuesta a aceptar (min - max)' %>
      <%= number_field_tag :min_gambler_amount, @min_gambler_amount %>
      <%= number_field_tag :max_gambler_amount, @max_gambler_amount %>
    </div>

    <div class="form-group">
      <%= submit_tag 'Buscar' %>
    </div>

  <% end %>
</div>

<div class="meesbets">
  <% @bets.each do |bet| %>
    <% if bet.bet_limit > 0%>
      <div class="meesbets-content">
        <h4>Apuesta numero: <%=bet.id %></h4>
        <table>

          <tr>
            <th>Nombre:</th>
            <th><%= bet.name %></th>
          </tr>

          <tr>
            <th>Usuario:</th>
            <th><%= bet.user.username %></th>
          </tr>

          <tr>
            <th>Descripcion:</th>
            <th><%= bet.description %></th>
          </tr>

          <tr>
            <th>Apuesta de challenger:</th>
            <th><%= bet.challenger_amount %></th>
          </tr>

          <tr>
            <th>Apuesta de retador:</th>
            <th><%= bet.gambler_amount %></th>
          </tr>

        </table>

        <%= form_tag("/bet_list", method: "POST") do %>
          <%= hidden_field_tag :bet_id, bet.id %>
          <%= submit_tag "Aceptar la apuesta" %>
        <% end %>
      </div>
    <% end %>
  <% end %>
</div>
